# GoBGP configuration for cJunosEvolved FlowSpec lab
#
# AS 65001 - GoBGP (prefixd announcer)
# AS 65003 - cJunosEvolved (FlowSpec receiver)

[global.config]
  as = 65001
  router-id = "10.0.1.1"

[global.apply-policy.config]
  default-import-policy = "accept-route"
  default-export-policy = "accept-route"

# Enable IPv4 FlowSpec
[[global.afi-safis]]
  [global.afi-safis.config]
    afi-safi-name = "ipv4-flowspec"

# Enable IPv6 FlowSpec
[[global.afi-safis]]
  [global.afi-safis.config]
    afi-safi-name = "ipv6-flowspec"

# Peer with cJunosEvolved
[[neighbors]]
  [neighbors.config]
    neighbor-address = "10.0.1.2"
    peer-as = 65003
  [neighbors.timers.config]
    hold-time = 90
    keepalive-interval = 30
  [[neighbors.afi-safis]]
    [neighbors.afi-safis.config]
      afi-safi-name = "ipv4-flowspec"
  [[neighbors.afi-safis]]
    [neighbors.afi-safis.config]
      afi-safi-name = "ipv6-flowspec"
